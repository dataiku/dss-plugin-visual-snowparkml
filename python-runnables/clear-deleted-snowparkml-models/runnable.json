{
    "meta": {
        "label": "Clear SnowparkML Models from Model Registry",
        "description": "Delete SnowparkML models from Snowpark ML Model Registry if no longer a Saved Model in the flow, or if a specific version was deleted from a Saved Model",
        "category" : "DSS maintenance",
        "icon" : "icon-trash"
    },

    "impersonate": false,
    "permissions" : ["WRITE_CONF"],
    "resultType" : "HTML",
    "resultLabel" : "Deleted Snowpa",
    "macroRoles": [     
        {
             "type": "MODEL_EVALUATION_STORE",
             "targetParamsKey": "mes_id"
         },
         {
             "type": "PROJECT_MACROS"
         }
     ],

    "params": [
        {
            "name": "mes_id",
            "label": "Model evaluation store",
            "type": "MODEL_EVALUATION_STORE",
            "description": "Model evaluation store for which to delete old model evaluations",
            "mandatory": true
        },
        {
            "name": "min_days",
            "label": "Delete evaluations older than (days)",
            "type": "INT",
            "defaultValue": 30,
            "minI":0
        },
        {
            "name": "perform_deletion",
            "label" : "Perform deletion",
            "type": "BOOLEAN",
            "description":"If not checked, only lists what will be deleted",
            "mandatory" : true,
            "defaultValue" : false
        }        
    ]
}
